<!DOCTYPE html>
<html>
<head>
<title>Survey Tool</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../static/css/layout.css">
<link rel="stylesheet" type="text/css" href="../static/css/content.css">
<link rel="stylesheet" type="text/css" href="../static/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="../static/css/bootstrap.css.map">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
  MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    };
</script>
</head>
<body>
    <div class="layout">
        <div class="navDiv"></div>
        <div class="contentDiv">
          <h1>Disparate Impact</h1>
          <p>Machine learning (ML) is commonly used to make decisions in practice. For example, in a loan case, banks often decide to approve or deny a borrower with the assistance of ML models, with the borrower's information as the input, such as age, gender, employment, etc. However, it turned out that the ML model can be biased in a way that the model is more likely to approve the loan of male borrowers than female borrowers, even though they have a similar background. 
            In this section, we aim to learn a popular fairness metric, called Disparate Impact, to mathematically measure the fairness of an ML model.</p>
          <p>
            Before that, we need to learn the confusion matrix first. The confusion matrix enables the comparison between the predictions of the ML model and the actual outcome (ground truth) on a data set. Confusion matrices are in the form of a 2X2 matrix, as shown below. The rows represent the ground truth — i.e., the number of people who got approved for the loan (p) and the number of people who were denied (n). Columns represent the number of people the model predicted were approved for the loan p’ and how many were denied n’. 
            Each of the 4 cells represents the number of times predictions matched or mismatched with the ground truth.
          </p>
          <img src="../static/figs/confusionMatrix.png">
          <p>
            <li>True positive (TP) = model correctly predicts loan was approved</li>
            <li>False negative (FN) = model says deny loan, but the loan was actually approved</li>
            <li>False positive (FP) = model predicts approval the loan, but the loan was actually denied</li>
            <li>True negative (TN) = Model correctly predicts loan was denied</li>
          </p>
          <p>
            Based on understanding the confusion matrix, let’s learn about Disparate Impact. Consider the example below, where the two confusion matrices 
            represent the results of an ML model on the men group (privileged group) and the women group (unprivileged group), respectively.
          </p>
          <img src="../static/figs/fairness_men_women.png">
          <p>
            Disparate Impact compares the proportion of individuals in the unprivileged group who received a favorable prediction to the proportion of individuals in the privileged group who received a favorable prediction. The calculation involves the proportion of the unprivileged group that received the positive outcome divided by the proportion of the privileged group that received the positive outcome. The ideal value of this metric is 1.0 or 100%. As shown in the loan example, this would be (60/100)/(70/100)= 0.85 or 85%.
          </p>
          <div id="visualCompo" class="visualComponentContainer FairMetricsPanel"></div>
          <div class="CMDiv"></div>
          <p>
            Guiding questions:
            <li>Please try to interact with the visualization and think about the following questions.</li>
            <li>What will happen when reducing the number of False Negatives in either the privileged group or the unprivileged group?</li>
            <li>What will happen to increase the number of True Positives in the privileged group?</li>
          </p>
          <div class="d-grid gap-2 d-md-flex justify-content-md-center">
              <button type="submit" class="btn btn-primary me-md-2 cusBtn">Next</button>
          </div>
          
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
    <script src="../static/js/init.js"></script>
    <script src="../static/js/confusionMtxPanel.js"></script>
    <script src="../static/js/fairMetrics.js"></script>
  </body>
</html>